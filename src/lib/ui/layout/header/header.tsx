"use client";

import { PageUrl } from "@/application/url";
import { MenuItemHeader } from "@/ui/gemucha";
import { default as Link } from "next/link";
import { usePathname } from "next/navigation";
// import type { SVGProps } from "react";
import { css } from "styled-system/css";
import { hstack } from "styled-system/patterns";
// import { UserLine } from "../footer/icons";

export function Header({ isDev }: { isDev: boolean }) {
  return (
    <header
      className={css({
        background: "#ffffff",
        borderBottom: "1px solid",
        borderColor: "borderLight",
        padding: "0 8px",
        display: "flex",
        alignItems: "center",
        justifyContent: "space-between",
        flexWrap: "wrap",
        gap: 0,
        position: "sticky",
        top: 0,
        zIndex: "headerAndFooter",
        // fontFamily: "NicoKaku-v2",
      })}
    >
      <LogoAndSearchIconBar isDev={isDev} />
    </header>
  );
}

function LogoAndSearchIconBar({ isDev }: { isDev: boolean }) {
  return (
    <>
      <div
        className={css({
          "@media screen and (max-width: 650px)": {
            margin: "auto",
          },
        })}
      >
        <Link href={PageUrl.home}>
          <Logo isDev={isDev} />
        </Link>
      </div>

      <div
        className={css({
          // lg: {
          //   position: "absolute",
          // },
          marginRight: "0.2em",
          // top: "12px",
          display: "flex",
          alignItems: "center",
          gap: "0",

          "@media screen and (max-width: 650px)": {
            margin: "0 auto 0.3em auto",
          },
        })}
      >
        <div
          className={css({
            // display: "flex",
            // justifyContent: "center",
            // alignItems: "center",
          })}
        >
          <MenuItemHeader
            url={PageUrl.attraction.top}
            title={
              <span
                className={css({
                  display: "flex",
                  justifyContent: "center",
                  alignItems: "center",
                  // fontSize: "1rem",
                  whiteSpace: "nowrap",
                })}
              >
                <span>募集板</span>
              </span>
            }
            isHeader
          />
        </div>
        <div
          className={css({
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
          })}
        >
          <MenuItemHeader
            url={PageUrl.mypage.chat.top}
            title={
              <span
                className={css({
                  display: "flex",
                  justifyContent: "center",
                  alignItems: "center",
                  // fontSize: "1rem",
                  whiteSpace: "nowrap",
                })}
              >
                <span>チャット</span>
                {/* <ChatIcon />{" "} */}
              </span>
            }
            isHeader
          />
        </div>
        <div
          className={css({
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
          })}
        >
          <MenuItemHeader
            url={PageUrl.mypage.top}
            title={
              <span
                className={css({
                  display: "flex",
                  justifyContent: "center",
                  alignItems: "flex-end",
                  // fontSize: "1rem",
                  whiteSpace: "nowrap",
                })}
              >
                <span>マイページ</span>
                {/* <UserLine /> */}
              </span>
            }
            isHeader
          />
        </div>
      </div>
    </>
  );
}

function Logo({ isDev }: { isDev: boolean }) {
  return (
    <div className={hstack({ gap: "2px", alignItems: "center" })}>
      <img
        className={hstack({ paddingRight: "4px", display: "inline-block", height: "27px" })}
        src="/images/kaerulogo.svg"
        alt="カエルロゴ"
        style={isDev ? { filter: "hue-rotate(-170deg)" } : undefined}
      />

      <h2
        className={css({
          color: "#17293d",
          lineHeight: "46px",

          "@media screen and (max-width: 650px)": {
            lineHeight: "36px",
          },
          letterSpacing: "-0.26px",
          display: "inline-block",
        })}
      >
        <svg
          className={hstack({ display: "inline-block" })}
          aria-label="ゲムチャ"
          width="168"
          height="20"
          viewBox="0 0 168 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.90625 0.5H21.7188V4.6875H7.96875C7.17708 4.72917 6.52083 5.03125 6 5.59375C5.47917 6.15625 5.09375 6.80208 4.84375 7.53125C4.61458 8.23958 4.5 8.96875 4.5 9.71875C4.5 10.4688 4.61458 11.2083 4.84375 11.9375C5.09375 12.6458 5.47917 13.2812 6 13.8438C6.52083 14.4062 7.17708 14.7083 7.96875 14.75H17.4688C17.8438 14.7292 18.0417 14.5208 18.0625 14.125V12.3125C18.0417 11.8958 17.8438 11.6875 17.4688 11.6875H7.71875V7.5H20.1562C20.7396 7.5 21.2396 7.69792 21.6562 8.09375C22.0312 8.48958 22.2292 8.96875 22.25 9.53125V9.59375V16.9062C22.2292 17.4688 22.0312 17.9375 21.6562 18.3125C21.2604 18.7083 20.7812 18.9167 20.2188 18.9375H6.90625C5.44792 18.8542 4.23958 18.3021 3.28125 17.2812C2.34375 16.2396 1.66667 15.0625 1.25 13.75C0.854167 12.4375 0.65625 11.0938 0.65625 9.71875C0.65625 8.34375 0.864583 7 1.28125 5.6875C1.69792 4.375 2.375 3.20833 3.3125 2.1875C4.25 1.14583 5.44792 0.583333 6.90625 0.5ZM31.5625 18.9375C29.7292 18.875 28.3438 18.4479 27.4062 17.6562C26.4688 16.8438 25.7917 15.9375 25.375 14.9375C24.9583 13.9167 24.75 12.8854 24.75 11.8438C24.75 10.7604 24.9479 9.71875 25.3438 8.71875C25.7604 7.69792 26.4375 6.79167 27.375 6C28.3333 5.1875 29.5417 4.77083 31 4.75H44.5V8.71875H31.1875C30.7292 8.71875 30.3229 8.875 29.9688 9.1875C29.6354 9.5 29.3854 9.90625 29.2188 10.4062C29.0729 10.9062 29 11.3958 29 11.875C29 12.3958 29.0729 12.9062 29.2188 13.4062C29.3854 13.9062 29.6354 14.3125 29.9688 14.625C30.3229 14.9167 30.7292 15.0729 31.1875 15.0938H44.5V18.9375H31.5625ZM44.5 13.2188H31.1562V10.375H44.5V13.2188ZM54.625 4.28125C55.3542 4.28125 56.0625 4.40625 56.75 4.65625C57.4583 4.90625 58.1354 5.27083 58.7812 5.75C58.8854 5.85417 59 5.95833 59.125 6.0625C59.2292 5.95833 59.3438 5.85417 59.4688 5.75C60.1146 5.27083 60.7812 4.90625 61.4688 4.65625C62.1771 4.40625 62.8854 4.28125 63.5938 4.28125C64.3229 4.28125 65.0312 4.40625 65.7188 4.65625C66.4271 4.90625 67.0938 5.28125 67.7188 5.78125C68.3646 6.26042 68.9271 6.90625 69.4062 7.71875C69.9062 8.53125 70.1562 9.5 70.1562 10.625V19.0312H65.9375V10.875C65.9375 10.375 65.8438 9.95833 65.6562 9.625C65.4688 9.27083 65.2604 9 65.0312 8.8125C64.8021 8.60417 64.5625 8.45833 64.3125 8.375C64.0625 8.27083 63.8125 8.21875 63.5625 8.21875C63.3125 8.21875 63.0625 8.27083 62.8125 8.375C62.5833 8.45833 62.3542 8.60417 62.125 8.8125C61.8958 9 61.6875 9.27083 61.5 9.625C61.3125 9.95833 61.2083 10.375 61.1875 10.875V19.0312H56.9688V10.875C56.9688 10.375 56.875 9.95833 56.6875 9.625C56.5 9.27083 56.2917 9 56.0625 8.8125C55.8333 8.60417 55.5938 8.45833 55.3438 8.375C55.0938 8.27083 54.8438 8.21875 54.5938 8.21875C54.3438 8.21875 54.0938 8.27083 53.8438 8.375C53.6146 8.45833 53.3854 8.60417 53.1562 8.8125C52.9271 9 52.7188 9.27083 52.5312 9.625C52.3438 9.95833 52.2396 10.375 52.2188 10.875V19.0312H48.0312V10.625C48.0729 9.5 48.3333 8.53125 48.8125 7.71875C49.2917 6.90625 49.8542 6.26042 50.5 5.78125C51.1458 5.28125 51.8125 4.90625 52.5 4.65625C53.2083 4.40625 53.9167 4.28125 54.625 4.28125ZM84.0625 19.4688C82.9792 19.4688 81.9062 19.3438 80.8438 19.0938C79.8021 18.8438 78.8021 18.4792 77.8438 18C76.8854 17.5 76.0417 16.8438 75.3125 16.0312C74.5833 15.2188 74.1875 14.25 74.125 13.125V11.8125V4.71875H78.3125V12.1562C78.3542 12.8021 78.5938 13.3438 79.0312 13.7812C79.4896 14.1979 79.9896 14.5312 80.5312 14.7812C81.0938 15.0312 81.6667 15.2188 82.25 15.3438C82.8542 15.4688 83.4583 15.5312 84.0625 15.5312C84.6667 15.5312 85.2604 15.4688 85.8438 15.3438C86.4479 15.2188 87.0208 15.0312 87.5625 14.7812C88.125 14.5312 88.625 14.1979 89.0625 13.7812C89.5208 13.3438 89.7708 12.8021 89.8125 12.1562V4.71875H94.0312V11.8125V13.125C93.9688 14.25 93.5625 15.2188 92.8125 16.0312C92.0833 16.8438 91.2396 17.5 90.2812 18C89.3229 18.4792 88.3125 18.8438 87.25 19.0938C86.2083 19.3438 85.1458 19.4688 84.0625 19.4688ZM104.219 18.9375C102.385 18.875 101 18.4479 100.062 17.6562C99.125 16.8438 98.4479 15.9375 98.0312 14.9375C97.6146 13.9167 97.4062 12.8854 97.4062 11.8438C97.4062 10.7604 97.6042 9.71875 98 8.71875C98.4167 7.69792 99.0938 6.79167 100.031 6C100.99 5.1875 102.198 4.77083 103.656 4.75H117.281V8.9375H103.531C103.135 8.9375 102.792 9.10417 102.5 9.4375C102.208 9.75 101.99 10.125 101.844 10.5625C101.719 10.9792 101.656 11.3958 101.656 11.8125C101.656 12.25 101.719 12.6875 101.844 13.125C101.99 13.5417 102.208 13.9167 102.5 14.25C102.792 14.5625 103.135 14.7292 103.531 14.75H117.281V18.9375H104.219ZM125.219 0.40625V4.75H134.906C136.365 4.77083 137.562 5.1875 138.5 6C139.458 6.79167 140.135 7.6875 140.531 8.6875C140.948 9.70833 141.156 10.7604 141.156 11.8438H141.188V19.0312H136.969V11.8125C136.969 11.4167 136.885 11 136.719 10.5625C136.573 10.125 136.354 9.75 136.062 9.4375C135.771 9.10417 135.427 8.9375 135.031 8.9375H125.219V19.0938H121V0.40625H125.219ZM162.562 19.0312V9.75C162.562 9.22917 162.292 8.95833 161.75 8.9375H150.812C150.417 8.95833 150.073 9.13542 149.781 9.46875C149.49 9.78125 149.271 10.1562 149.125 10.5938C149 11.0104 148.938 11.4375 148.938 11.875C148.938 12.2917 149 12.7188 149.125 13.1562C149.271 13.5729 149.49 13.9479 149.781 14.2812C150.073 14.5938 150.417 14.75 150.812 14.75H160.562V18.9375H150.938C149.479 18.9167 148.271 18.5104 147.312 17.7188C146.375 16.9062 145.698 16 145.281 15C144.885 13.9792 144.688 12.9271 144.688 11.8438C144.688 10.8021 144.896 9.78125 145.312 8.78125C145.729 7.76042 146.406 6.85417 147.344 6.0625C148.281 5.25 149.667 4.8125 151.5 4.75H164.625C165.208 4.75 165.708 4.94792 166.125 5.34375C166.542 5.71875 166.76 6.19792 166.781 6.78125V19.0312H162.562Z"
            fill="#333333"
          />
        </svg>
      </h2>
      <div style={{ display: "inline-block", padding: "6px 0 0 5px", fontSize: "20px" }}>
        <svg
          aria-label="ゲムチャ"
          width="60"
          height="15"
          viewBox="0 0 60 15"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M9 2.03125C9 1.64062 9.13672 1.30859 9.41016 1.03516C9.68359 0.761719 10.0156 0.625 10.4062 0.625C10.7969 0.625 11.1289 0.761719 11.4023 1.03516C11.6758 1.30859 11.8125 1.64062 11.8125 2.03125C11.8125 2.42188 11.6758 2.75391 11.4023 3.02734C11.1289 3.30078 10.7969 3.4375 10.4062 3.4375C10.0156 3.4375 9.68359 3.30078 9.41016 3.02734C9.13672 2.75391 9 2.42188 9 2.03125ZM12.3594 2.03125C12.3594 1.64062 12.4961 1.30859 12.7695 1.03516C13.043 0.761719 13.375 0.625 13.7656 0.625C14.1562 0.625 14.4883 0.761719 14.7617 1.03516C15.0352 1.30859 15.1719 1.64062 15.1719 2.03125C15.1719 2.42188 15.0352 2.75391 14.7617 3.02734C14.4883 3.30078 14.1562 3.4375 13.7656 3.4375C13.375 3.4375 13.043 3.30078 12.7695 3.02734C12.4961 2.75391 12.3594 2.42188 12.3594 2.03125ZM6.46094 3.06641L6.30469 4.17969H14.8398V6.79688H11.8125L11.4609 9.33594C11.3307 10.2604 11.0898 11.1328 10.7383 11.9531C10.3607 12.7734 9.83333 13.4701 9.15625 14.043C8.49219 14.6029 7.70443 14.9089 6.79297 14.9609H3.58984V12.3438H6.48047C6.97526 12.3177 7.40495 12.1289 7.76953 11.7773C8.14714 11.4258 8.40755 11.0286 8.55078 10.5859C8.69401 10.1302 8.79818 9.63542 8.86328 9.10156L9.17578 6.79688H5.77734C5.6862 7.08333 5.58203 7.36979 5.46484 7.65625C5.08724 8.47656 4.5599 9.17318 3.88281 9.74609C3.21875 10.306 2.43099 10.612 1.51953 10.6641H0.0742188V8.04688H1.20703C1.70182 8.02083 2.13151 7.83203 2.49609 7.48047C2.8737 7.12891 3.13411 6.73177 3.27734 6.28906C3.42057 5.83333 3.52474 5.33854 3.58984 4.80469L3.82422 3.06641H6.46094ZM28.6094 14.9609H18.4141C18.0495 14.9609 17.737 14.8372 17.4766 14.5898C17.2031 14.3034 17.0794 13.9909 17.1055 13.6523L17.7305 9.0625C17.8607 8.13802 18.1016 7.26562 18.4531 6.44531C18.8307 5.625 19.3516 4.9349 20.0156 4.375C20.6927 3.80208 21.487 3.48958 22.3984 3.4375H25.2109V6.05469H22.7109C22.2161 6.08073 21.7799 6.26953 21.4023 6.62109C21.0378 6.97266 20.7839 7.3763 20.6406 7.83203C20.4974 8.27474 20.3932 8.76302 20.3281 9.29688L19.9766 11.8555C19.9375 12.168 20.0482 12.3307 20.3086 12.3438H27.1641C27.6068 12.3307 27.8216 12.1094 27.8086 11.6797V7.75391H30.4453V13.2227C30.4323 13.7695 30.2695 14.1992 29.957 14.5117C29.6445 14.8112 29.1953 14.9609 28.6094 14.9609ZM33.6484 3.4375H46.2266V6.05469H42.2422L41.9883 7.8125H46.3047V10.4297H41.5977L41.5 11.0547C41.3438 12.1354 40.875 13.0599 40.0938 13.8281C39.3125 14.5964 38.4401 14.974 37.4766 14.9609H33.7656V12.3438H37.125C37.6068 12.3438 38.0039 12.1875 38.3164 11.875C38.6419 11.5625 38.8568 11.0807 38.9609 10.4297H33.7266V7.8125H39.3516L39.6055 6.05469H33.6484V3.4375ZM48.8438 6.23047H50.875V5.44922H52.9844V6.23047H56.4609C56.526 6.23047 56.5911 6.23698 56.6562 6.25H56.7344C57.4635 6.26302 58.0625 6.45833 58.5312 6.83594C59 7.20052 59.3385 7.61719 59.5469 8.08594C59.7552 8.55469 59.8594 9.02995 59.8594 9.51172C59.8594 10.0065 59.7552 10.4883 59.5469 10.957C59.3516 11.4258 59.013 11.849 58.5312 12.2266C58.0625 12.5911 57.4635 12.7669 56.7344 12.7539H54.4688V10.6641H56.832C57.0273 10.6641 57.1901 10.599 57.3203 10.4688C57.4505 10.3385 57.5482 10.1888 57.6133 10.0195C57.6784 9.85026 57.7109 9.67448 57.7109 9.49219C57.7109 9.32292 57.6784 9.15365 57.6133 8.98438C57.5482 8.8151 57.4505 8.66536 57.3203 8.53516C57.1901 8.40495 57.0273 8.33333 56.832 8.32031H52.9844V14.9609H50.875V8.32031H48.8438V6.23047Z"
            fill="#333333"
          />
        </svg>
      </div>
    </div>
  );
}